<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Dashboard - Kiyamid College</title>
  <link rel="shortcut icon" href="image/logo.png" type="image/x-icon">
  <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="css/style.css" />
  <style>
    body { background-color: #f8f9fa; padding-top: 70px; }
    .stats-card { background-color: #fff; border-radius: 10px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    .tab-content { background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    .navbar-brand img { border-radius: 50%; }
     .preview { max-width: 300px; margin-top: 10px; }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top shadow">
    <div class="container">
      <a class="navbar-brand" href="admin.html">
        <img src="image/logo.png" alt="Logo" width="40" height="40" class="me-2" />
        KEA-MED COLLEGE
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link active " href="">Admin Dashboard</a></li>
          <li class="nav-item"><button type="button" class="btn btn-outline-light ms-3" data-bs-toggle="modal" data-bs-target="#registerModal">Create New User</button></li>
          <li class="nav-item"><button class="btn btn-outline-light ms-3" onclick="logout()"><i class="fas fa-sign-out-alt me-1"></i>Logout</button></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Dashboard Header -->
  <section class="container text-center mb-4">
  <!-- Dashboard Header -->
    <h1 class="display-5">Welcome, <span id="adminName">Admin</span></h1>
    <p class="text-muted">Manage website content securely and efficiently</p>
  </section>

  <div class="container">
    <!-- Stats Overview -->
    <div class="row g-4 mb-4">
      <div class="col-md-4">
        <div class="stats-card text-center">
          <i class="fas fa-newspaper fa-2x text-primary mb-2"></i>
          <h3 id="newsCount">0</h3>
          <p>News Articles</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="stats-card text-center">
          <i class="fas fa-comments fa-2x text-success mb-2"></i>
          <h3 id="commentsCount">0</h3>
          <p>User Comments</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="stats-card text-center">
          <i class="fas fa-user-graduate fa-2x text-warning mb-2"></i>
          <h3 id="applicationsCount">0</h3>
          <p>Applications</p>
        </div>
      </div>
    </div>

    <!-- Admin Tabs -->
    <ul class="nav nav-tabs mb-3" id="adminTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="news-tab" data-bs-toggle="tab" data-bs-target="#news" type="button" role="tab">
          <i class="fas fa-newspaper me-2"></i>News Management
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="comments-tab" data-bs-toggle="tab" data-bs-target="#comments" type="button" role="tab">
          <i class="fas fa-comments me-2"></i>Comments
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="applications-tab" data-bs-toggle="tab" data-bs-target="#applications" type="button" role="tab">
          <i class="fas fa-file-alt me-2"></i>Applications
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="categories-tab" data-bs-toggle="tab" data-bs-target="#categories" type="button" role="tab">
          <i class="fas fa-tags me-2"></i>Categories
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="dates-tab" data-bs-toggle="tab" data-bs-target="#dates" type="button" role="tab">
          <i class="fas fa-calendar-alt me-2"></i>Important Dates
        </button>
      </li>
    </ul>

    <div class="tab-content" id="adminTabsContent">
      <!-- News Tab -->
      <div class="tab-pane fade show active" id="news" role="tabpanel">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h4>News Articles</h4>
          <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addNewsModal"><i class="fas fa-plus me-1"></i>Add News</button>
        </div>
        <div class="table-responsive">
          <table class="table table-striped align-middle">
            <thead class="table-light">
              <tr>
                <th>Title</th>
                <th>Preview</th>
                <th>Date</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="adminNewsList"></tbody>
          </table>
        </div>
      </div>

      <!-- Comments Tab -->
      <div class="tab-pane fade" id="comments" role="tabpanel">
        <h4 class="mb-3">User Comments</h4>
        <div class="table-responsive">
          <table class="table table-striped align-middle">
            <thead class="table-light">
              <tr>
                <th>Name</th>
                <th>Comment</th>
                <th>Date</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="adminCommentsList"></tbody>
          </table>
        </div>
      </div>

      <!-- Applications Tab -->
      <div class="tab-pane fade" id="applications" role="tabpanel">
        <h4 class="mb-3">Admission Applications</h4>
        <div class="table-responsive">
          <table class="table table-striped align-middle">
            <thead class="table-light">
              <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Program</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody id="adminApplicationsList"></tbody>
          </table>
        </div>
      </div>
            
      <div class="tab-pane fade" id="categories" role="tabpanel">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h4>News Categories</h4>
          <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addCategoryModal">
            <i class="fas fa-plus me-1"></i>Add Category
          </button>
        </div>
        <div class="table-responsive">
          <table class="table table-striped align-middle">
            <thead class="table-light">
              <tr>
                <th>Category Name</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="adminCategoriesList"></tbody>
          </table>
        </div>
      </div>
      
      <!-- Important Dates Tab -->
      <div class="tab-pane fade" id="dates" role="tabpanel">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h4>Important Dates Management</h4>
          <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addDateModal">
            <i class="fas fa-plus me-1"></i>Add Important Date
          </button>
        </div>
        <div class="table-responsive">
          <table class="table table-striped align-middle">
            <thead class="table-light">
              <tr>
                <th>Intake</th>
                <th>Event Name</th>
                <th>Date</th>
                <th>Description</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="adminDatesList"></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
<!-- Register Button to Trigger Modal -->
<div class="text-center py-5">
</div>

<!-- Registration Modal -->
<div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-heade">
        <button type="button" class="btn-close float-end" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="registerForm" onsubmit="register(event)">
          <div class="text-center mb-4">
              <i class="fas fa-user fa-3x text-primary mb-3"></i>
              <h2>Create New User</h2>
              <p class="text-muted">Register user to manage website content</p>
            </div>
          <div class="mb-3">
            <label for="username" class="form-label">Username</label>
            <div class="input-group">
               <span class="input-group-text"><i class="fas fa-user"></i></span>
               <input type="text" class="form-control" id="username" required />
             </div>
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
             <div class="input-group">
               <span class="input-group-text"><i class="fa fa-envelope"></i></span>
                <input type="email" class="form-control" id="email" required>
             </div>
          </div>
          <div class="mb-3">
           <label for="password" class="form-label">Password</label>
              <div class="input-group">
                <span class="input-group-text"><i class="fas fa-key"></i></span>
                <input type="password" class="form-control" id="password" required />
              </div>
          </div>
          <div class="mb-3">
            <label for="confirmPassword" class="form-label">Confirm Password</label>
            <div class="input-group">
                  <span class="input-group-text"><i class="fas fa-key"></i></span>
                   <input type="password" class="form-control" id="confirmPassword" required>
                </div>
          </div>
          <div class="d-grid">
            <button type="submit" class="btn btn-primary btn-lg">Register</button>
          </div>
        </form>
        <p class="text-center mt-3">Already have an account? <a href="login.html">Login here</a></p>
      </div>
    </div>
  </div>
</div>

<!-- Add Category Modal -->
<div class="modal fade" id="addCategoryModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Add Category</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form id="addCategoryForm">
          <div class="mb-3">
            <label class="form-label">Category Name</label>
            <input type="text" class="form-control" id="categoryName" required />
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" onclick="addCategory()">Save</button>
      </div>
    </div>
  </div>
</div>
 <!--  Add News Modal  -->
<div class="modal fade" id="addNewsModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Add News Article</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form id="addNewsForm" enctype="multipart/form-data">
          <div class="mb-3">
            <label class="form-label">Title</label>
            <input type="text" class="form-control" id="newsTitle" required />
          </div>
          <div class="mb-3">
            <label class="form-label">Content</label>
            <textarea class="form-control" id="newsContent" rows="4" required></textarea>
          </div>
          <div class="mb-3">
            <label class="form-label">Category ID (optional)</label>
            <select class="form-control" id="newsCategory">
            </select>
          </div>

          <!-- Multiple Image Upload -->
          <div class="mb-3">
            <label class="form-label">Images (optional, multiple allowed)</label>
            <div class="input-group">
              <input class="form-control" type="file" id="newsImageFiles" name="images[]" accept="image/*" multiple>
              <button type="button" class="btn btn-outline-secondary" onclick="clearImageSelection()">
                Clear All
              </button>
            </div>
            <div class="form-text">You can select multiple images (Ctrl+Click or Shift+Click)</div>
          </div>

          <!-- Image Previews Container -->
          <div class="mb-3">
            <div id="previewContainer" class="row g-2 mt-2">
              <!-- Preview images will be dynamically added here -->
            </div>
            <div id="noImagesMessage" class="text-muted text-center py-3" style="display: none;">
              No images selected
            </div>
          </div>

        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" onclick="addNews()">Save</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="editmodal"></div>

  <!-- Add Important Date Modal -->
  <div class="modal fade" id="addDateModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Add Important Date</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <form id="addDateForm">
            <div class="mb-3">
              <label class="form-label">Intake Name</label>
              <input type="text" class="form-control" id="intakeName" placeholder="e.g., Fall 2025" required />
            </div>
            <div class="mb-3">
              <label class="form-label">Event Name</label>
              <input type="text" class="form-control" id="eventName" placeholder="e.g., Application Opens" required />
            </div>
            <div class="mb-3">
              <label class="form-label">Event Date</label>
              <input type="date" class="form-control" id="eventDate" required />
            </div>
            <div class="mb-3">
              <label class="form-label">Description (optional)</label>
              <textarea class="form-control" id="eventDescription" rows="2" placeholder="Brief description of the event"></textarea>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" onclick="saveImportantDate()">Save</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Edit Important Date Modal -->
  <div class="modal fade" id="editDateModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Edit Important Date</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <form id="editDateForm">
            <input type="hidden" id="editDateId" />
            <div class="mb-3">
              <label class="form-label">Intake Name</label>
              <input type="text" class="form-control" id="editIntakeName" required />
            </div>
            <div class="mb-3">
              <label class="form-label">Event Name</label>
              <input type="text" class="form-control" id="editEventName" required />
            </div>
            <div class="mb-3">
              <label class="form-label">Event Date</label>
              <input type="date" class="form-control" id="editEventDate" required />
            </div>
            <div class="mb-3">
              <label class="form-label">Description (optional)</label>
              <textarea class="form-control" id="editEventDescription" rows="2"></textarea>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" onclick="updateImportantDate()">Update</button>
        </div>
      </div>
    </div>
  </div>
  
 <footer class="bg-primary text-white py-3">
        <div class="container footer">
            <div class="row">
                <div class="col-md-4 mb-3 mb-md-0">
                    <h5>Kea-Med College</h5>
                    <p class="small">Excellence in Medical Education Since 1999</p>
                    <p class="small">Medical College Debre Birhan Campus </p>
                    <p class="small"><b>Contact:</b> <a href="https://mail.google.com/mail/?view=cm&fs=1&to=info@keamedcollegedb@gmail.com" target="_blank" class="text-white">keamedcollegedb@gmail.com</a> </p>
                    <p class="small"><B>Phone: 011 681 3528</B></p>
                    <div class="mt-2">
                        <a href="https://www.facebook.com/share/1BS2zgxFmc/" target="_blank" class="me-2 social-icon"><i class="fab fa-facebook fa-lg"></i></a>
                        <a href="https://www.twitter.com" target="_blank" class="me-2 social-icon"><i class="fab fa-twitter fa-lg"></i></a>
                        <a href="https://www.linkedin.com" target="_blank" class="me-2 social-icon"><i class="fab fa-linkedin fa-lg"></i></a>
                        <a href="https://www.instagram.com" target="_blank" class="me-2 social-icon"><i class="fab fa-instagram fa-lg"></i></a>
                        <a href="https://www.tiktok.com" target="_blank" class="social-icon"><i class="fab fa-tiktok fa-lg"></i></a>
                    </div>
                </div>
                <div class="col-md-4 mb-3 mb-md-0">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled footer-links">
                        <li><a href="index.html"><i class="fas fa-angle-right me-2"></i>Home</a></li>
                        <li><a href="about.html"><i class="fas fa-angle-right me-2"></i>About Us</a></li>
                        <li><a href="admission.html"><i class="fas fa-angle-right me-2"></i>Admissions</a></li>
                        <li><a href="academics.html"><i class="fas fa-angle-right me-2"></i>Academics</a></li>
                        <li><a href="research.html"><i class="fas fa-angle-right me-2"></i>Research</a></li>
                        <li><a href="services.html"><i class="fas fa-angle-right me-2"></i>Services</a></li>
                        <li><a href="comments.html"><i class="fas fa-angle-right me-2"></i>Contact & Feedback</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Our Location</h5>
                    <div class="ratio ratio-16x9 mb-2">
                        <iframe src="https://maps.google.com/maps?q=Kea%20Med%20College&output=embed" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                    <p class="small"><a href="https://maps.app.goo.gl/GXQb63d85wi9L3yG7" target="_blank" rel="noopener noreferrer" class="text-white">Open in Google Maps</a></p>
                </div>
            </div>
            <hr class="my-3">
            <div class="text-center copyright position-relative">
                <p class="mb-0">&copy; 2025 Kea Med College. All rights reserved.</p>
            </div>
        </div>
    </footer>

  <script src="js/scroll-to-top.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/main.js"></script>
  <script>
    // Load stats when page is ready
    document.addEventListener('DOMContentLoaded', function() {
      loadStats();
    });
  </script>
  
    
</body>
</html>
